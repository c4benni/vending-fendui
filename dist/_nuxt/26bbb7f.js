(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{530:function(t,e,r){var n=r(5),o=r(302).values;n({target:"Object",stat:!0},{values:function(t){return o(t)}})},540:function(t,e,r){var content=r(563);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(40).default)("7095ecd1",content,!0,{sourceMap:!1})},562:function(t,e,r){"use strict";r(540)},563:function(t,e,r){var n=r(39)((function(i){return i[1]}));n.push([t.i,".dark-theme .form-action[data-onboard]{box-shadow:0 8px 16px 0 rgba(0,69,255,.14)}.root{-webkit-animation-duration:.15s;animation-duration:.15s}",""]),n.locals={},t.exports=n},569:function(t,e,r){"use strict";r.r(e);var n=r(0),o=r(36),l=(r(24),r(18),r(8),r(46),r(530),r(87),r(108),r(143),r(19),r(75),r(301),r(47),r(146)),main=r(3),d={name:"Onboard",data:function(){return{fetchKey:null,message:null,isLoading:!1,userDetail:{},form:{username:"",password:"",role:"",termsAndConditions:!1},validFields:{username:!1,password:!1},accountRole:[{title:"buyer",subtitle:"Deposit coins and buy items"},{title:"seller",subtitle:"Add products and monitor your profit"}],accountCreatedText:{title:"",subtitle:""}}},head:function(){return{title:this.isLogin?"Login":"Register"}},computed:{loginText:function(){return{to:this.isLogin?"/":"/?login=true",nuxtLink:this.isLogin?"Register":"Sign in",h2:this.isLogin?"Don't have an account?":"Already have an account?",h3:this.isLogin?this.accountCreatedText.title||"Welcome back!":"Get started, it's free.",h4:this.isLogin?this.accountCreatedText.subtitle||"Login to view your activities":"Start buying and selling easily anywhere you are",formBtn:this.isLoading?"":this.isLogin?"LOGIN":"REGISTER"}},isLogin:function(){return"true"==this.$route.query.login},disableSubmit:function(){if(this.isLoading)return!0;var form=[].concat(Object(o.a)(Object.values(this.validFields)),[!this.isLogin&&this.form.termsAndConditions]).filter(Boolean);return this.isLogin?!(2==form.length&&!form.includes(!1)):!(3==form.length&&!form.includes(!1)&&!!this.form.role)},inputConfig:function(){var t=this,e="^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{6,32}$",r=new RegExp("".concat(e));return[{id:"username-field",validity:function(e){console.log(e),t.validFields.username=e},autocomplete:"username",onUpdate:function(e){t.form.username=e},label:"Username",model:this.form.username,validate:function(t){var e=null==t?void 0:t.trim();return e?e.length<3?"Min length is 3":!(e.length>99)||"Max length is 99":"Required"},pattern:"^(?=[a-zA-Z0-9._]{3,20}$)(?!.*[_.]{2})[^_.].*[^_.]$"},{id:"password-field",autocomplete:"new password",onUpdate:function(e){t.form.password=e},label:"Password",model:this.form.password,placeholder:"6+ characters",type:"password",validity:function(e){t.validFields.password=e},validate:function(t){var e=null==t?void 0:t.trim();return e?e.length<6?"Min length is 6":e.length>32?"Max length is 32":/[a-z]/.test(e)?/[A-Z]/.test(e)?/\d/.test(e)?/@|\$|!|%|\*|\?|&/.test(e)?!!r.test(e)||"Invalid character(s)":"Special character needed":"At least 1 number":"At least 1 uppercase":"At least 1 lowercase":"Required"},pattern:e}]}},watch:{isLogin:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t||(e.accountCreatedText={title:"",subtitle:""}),e.message=null,e.form={username:"",password:"",role:"",termsAndConditions:!1},r.next=5,Object(main.m)();case 5:scrollTo(0,0);case 6:case"end":return r.stop()}}),r)})))()}},methods:{submitForm:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n,o,d,form,c,m,x,data,f,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.message=null,t.isLoading=!0,r=t.form,n=r.username,o=r.password,d=r.role,form={username:n,password:o},t.isLogin||(form.role=d),c=t.isLogin?"login":"register",m=l.a[c],e.next=9,m.call(t,form);case 9:if(x=e.sent,data=x.data,f=x.error,t.form.termsAndConditions=!1,t.fetchKey=Date.now(),scrollTo(0,0),!f){e.next=20;break}t.form.password="",t.message={text:f.message,error:!0},e.next=35;break;case 20:if(t.isLogin){e.next=35;break}return t.accountCreatedText.title="Account created successfully!",h="buyer"==t.form.role?"buying":"selling",t.accountCreatedText.subtitle="Start ".concat(h," on the vending app"),e.next=26,t.$nextTick();case 26:return t.form={username:"",password:"",role:"",termsAndConditions:!1},t.isLoading=!1,t.$router.push("/?login=true"),e.next=31,t.$sleep(3e3);case 31:if(t.accountCreatedText.title){e.next=33;break}return e.abrupt("return");case 33:return t.accountCreatedText.title="Login below",e.abrupt("return");case 35:if(t.isLoading=!1,!data){e.next=42;break}return t.$commit("UPDATE",{path:"user",value:data}),e.next=40,t.$sleep();case 40:t.$router.replace("/dashboard"),t.form={username:"",password:"",role:"",termsAndConditions:!1};case 42:case"end":return e.stop()}}),e)})))()}}},c=(r(562),r(17)),m={name:"IndexPage",components:{onboard:Object(c.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{key:t.isLogin+t.fetchKey,staticClass:"root w-[100%] h-[100%] grid justify-items-center items-center grid-cols-[1fr] grid-rows-[auto,1fr] fade-slide-x-appear"},[t.message?r("div",{staticClass:"p-4 min-h-[72px] min-w-[calc(100%-3rem)] lg:min-w-[70%] mx-auto mt-6 grid grid-flow-col grid-cols-[36px,1fr] m-4",class:[{"bg-red-800 dark:bg-red-500 rounded-md border-[1px] border-red-600 dark:border-red-400 text-white":t.message.error,"bg-green-800 dark:bg-green-500 rounded-md border-[1px] border-green-600 dark:border-green-400 text-white dark:text-black":!t.message.error}],staticStyle:{"animation-direction":"reverse"},attrs:{role:"alert"}},[r("ui-icon",{staticClass:"text-[inherit]",attrs:{name:t.message.error?"alert":"check"}}),t._v("\n        "+t._s(t.message.text)+"\n    ")],1):t._e(),t._v(" "),r("div",{staticClass:"max-w-[660px] xl:max-w-[780px] w-[100%] h-[100%] p-6",class:[{"mt-[72px]":!t.message,"mt-[48px]":!t.message}]},[r("div",{staticClass:"my-4 hidden lg:block",attrs:{"aria-label":"already have an account"}},[r("h2",{staticClass:"text-base font-normal text-right text-blue-gray-900 dark:text-blue-gray-100"},[t._v("\n                "+t._s(t.loginText.h2)+"\n                "),r("nuxt-link",{staticClass:"text-blue-400 hover:underline",attrs:{to:t.loginText.to}},[t._v("\n                    "+t._s(t.loginText.nuxtLink)+"\n                ")])],1)]),t._v(" "),r("transition",{attrs:{name:t.accountCreatedText.title?"fade-transition":"",mode:"out-in"}},[r("h3",{key:t.loginText.h3,staticClass:"text-2xl font-bold tracking-tighter mb-2 text-blue-gray-800 dark:text-blue-gray-100",style:{"--fade-duration":t.accountCreatedText.title?"500ms":""}},[t._v("\n                "+t._s(t.loginText.h3)+"\n            ")])]),t._v(" "),r("h4",{staticClass:"font-normal text-base text-blue-gray-600 dark:text-blue-gray-200 text-opacity-70 dark:text-opacity-50"},[t._v(t._s(t.loginText.h4))]),t._v(" "),r("ui-form",{staticClass:"my-8 grid",attrs:{name:"sign-up",action:"/register",method:"post","submit-class":["text-white w-full h-[48px] mx-auto md:max-w-[580px] xl:max-w-[620px] form-action hover:shadow-none hover:bg-blue-900 dark:hover:bg-blue-700",{"bg-blue-800 dark:bg-blue-600":!t.disableSubmit,"mt-[96px]":!t.isLogin,"mt-[64px]":t.isLogin}],"submit-data":{attrs:{"data-onboard":t.disableSubmit?void 0:""},props:{disabled:t.disableSubmit}}},on:{"submit-form":t.submitForm},scopedSlots:t._u([{key:"submitText",fn:function(){return[t._v("\n                "+t._s(t.loginText.formBtn)+"\n                "),t.isLoading?r("div",{staticClass:"spinner-border"}):t._e()]},proxy:!0}])},[t._v(" "),t._l(t.inputConfig,(function(e,i){return r("ui-input",{key:i,attrs:{id:e.id,"model-value":e.model,label:e.label,type:e.type,placeholder:e.placeholder,pattern:e.pattern,validate:e.validate,"main-class":["rounded-md bg-blue-gray-50 dark:bg-blue-gray-900 md:h-[64px] rounded-md bg-white dark:bg-blue-gray-900 md:h-[64px] border border-black dark:border-white border-opacity-10 dark:border-opacity-10",{"mt-4":1==i}],required:"",disabled:t.isLoading,autocomplete:e.autocomplete},on:{"update:modelValue":e.onUpdate,"input-validity":e.validity}})})),t._v(" "),t.isLogin?t._e():r("h5",{staticClass:"text-normal font-bold mt-8 dark:text-gray-50 text-gray-600 opacity-70"},[t._v("Choose type of account")]),t._v(" "),t.isLogin?t._e():r("div",{staticClass:"grid items-center justify-flex-start mt-2 w-full gap-x-4 grid-cols-[repeat(auto-fit,minmax(200px,1fr))]"},t._l(t.accountRole,(function(e,i){return r("ui-btn",{key:i,staticClass:"px-6 dark:hover:bg-blue-gray-800 hover:bg-blue-gray-100 hover:bg-opacity-70 dark:hover:text-white hover:text-black w-full justify-start my-1 grid-cols-1 h-[96px] content-center rounded-sm",class:[{"dark:bg-blue-gray-800 dark:text-white bg-blue-gray-300 text-black":t.form.role==e.title}],attrs:{tag:"div",outlined:"","outlined-opacity":t.form.role==e.title?".35":".1","outlined-stroke":t.form.role==e.title?"2px":"1.5px","outlined-class":t.form.role==e.title?"border-blue-600 dark:border-blue-400":"",size:"lg",disabled:t.isLoading},on:{click:function(){return t.form.role=e.title}}},[r("div",{staticClass:"grid h-full w-full text-left"},[r("div",{staticClass:"capitalize text-left relative grid items-center text-blue-gray-900 dark:text-blue-gray-50"},[t._v("\n                            "+t._s(e.title)+"\n                            "),t.form.role==e.title?r("ui-icon",{staticClass:"absolute right-0 rounded-full bg-blue-800 dark:bg-blue-600 w-[28px] h-[28px] opacity-100 text-white",attrs:{name:"check",size:"24px"}}):t._e()],1),t._v(" "),r("div",{staticClass:"font-light text-sm text-opacity-80 dark:text-opacity-50 dark:text-blue-gray-50 text-blue-gray-900"},[t._v(t._s(e.subtitle))])])])})),1),t._v(" "),t.isLogin?t._e():r("div",{staticClass:"grid gap-x-2 justify-start grid-flow-col mt-8"},[r("div",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.termsAndConditions,expression:"form.termsAndConditions"}],staticClass:"h-[24px] w-[24px] opacity-0 absolute cursor-pointer",attrs:{id:"terms-conditions",type:"checkbox",required:"required",disabled:t.isLoading},domProps:{checked:Array.isArray(t.form.termsAndConditions)?t._i(t.form.termsAndConditions,null)>-1:t.form.termsAndConditions},on:{change:function(e){var r=t.form.termsAndConditions,n=e.target,o=!!n.checked;if(Array.isArray(r)){var l=t._i(r,null);n.checked?l<0&&t.$set(t.form,"termsAndConditions",r.concat([null])):l>-1&&t.$set(t.form,"termsAndConditions",r.slice(0,l).concat(r.slice(l+1)))}else t.$set(t.form,"termsAndConditions",o)}}}),t._v(" "),r("ui-icon",{key:t.form.termsAndConditions,staticClass:"fade-appear pointer-events-none",attrs:{name:t.form.termsAndConditions?"checkboxChecked":"blankCheckboxOutline","svg-class":[{"bg-blue-800 dark:bg-blue-600 text-white":t.form.termsAndConditions}]}})],1),t._v(" "),r("label",{staticClass:"cursor-pointer active:scale-[0.99] transition-transform text-opacity-70 text-blue-gray-900 dark:text-cool-gray-50",class:[{"text-opacity-80":t.form.termsAndConditions}],attrs:{for:"terms-conditions"}},[t._v("Agree to terms and conditions")])])],2),t._v(" "),r("div",{staticClass:"my-4 lg:hidden",attrs:{"aria-label":"already have an account"}},[r("h5",{staticClass:"text-base font-normal text-left text-blue-gray-900 dark:text-blue-gray-100"},[t._v("\n                "+t._s(t.loginText.h2)+"\n                "),r("nuxt-link",{staticClass:"text-blue-400",attrs:{to:t.loginText.to}},[t._v("\n                    "+t._s(t.loginText.nuxtLink)+"\n                ")])],1)])],1)])}),[],!1,null,null,null).exports},head:function(){return{title:"Welcome"}},computed:{user:function(){return this.$store.state.user},storedMedia:function(){return this.$store.state.media},loginPage:function(){return"true"==this.$route.query.login}},beforeCreate:function(){this.$commit("UPDATE",{path:"dashboardProcessing",value:!1}),this.$commit("UPDATE",{path:"processingDone",value:null}),this.$commit("UPDATE",{path:"notify",value:{message:null}})}},x=Object(c.a)(m,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.user?r("div",{staticClass:"w-[100%] h-[100%] grid place-items-center"},[r("div",{staticClass:"spinner-border",staticStyle:{"--size":"2rem"}})]):r("div",{staticClass:"root min-h-full grid grid-flow-col grid-cols-1 lg:grid-cols-[min(100%,464px),1fr] relative max-w-[1350px] w-full mx-auto"},[r("div",{staticClass:"hidden lg:block w-[100%] max-w-[464px] pb-12 pt-6 sticky top-4 h-[fit-content] mt-14 ml-6 rounded-md dark:bg-blue-gray-800 bg-blue-gray-50 dark:text-white text-blue-gray-900 shadow-xl px-4 mb-8"},[r("div",{staticClass:"h-[420px] w-full px-4 pt-2"},[r("app-img",{staticClass:"object-contain h-full mx-auto",attrs:{"public-id":t.storedMedia.register}})],1),t._v(" "),t._m(0)]),t._v(" "),r("onboard")],1)}),[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("h1",{staticClass:"text-3xl font-bold p-4 leading-normal"},[t._v("\n      Buy and sell easily\n      "),r("br"),t._v("with Vending.\n    ")])}],!1,null,null,null);e.default=x.exports}}]);